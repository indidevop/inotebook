{"ast":null,"code":"import _defineProperty from\"C:/Users/Amey Sawalkar/Desktop/React/inotebook/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Amey Sawalkar/Desktop/React/inotebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Amey Sawalkar/Desktop/React/inotebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import{useContext,useEffect,useRef,useState}from'react';import noteContext from'../contexts/notes/noteContext';import NoteItem from'./NoteItem';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Notes(){var i=0;var context=useContext(noteContext);var notes=context.notes,fetchallNotes=context.fetchallNotes,editNote=context.editNote;var ref=useRef(null);var refclose=useRef(null);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),message=_useState2[0],setmessage=_useState2[1];useEffect(function(){if(localStorage.getItem('authtoken')){setmessage(\"No notes to display\");fetchallNotes();}else{setmessage(\"Login to see your notes\");}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var _useState3=useState({eid:\"\",etitle:\"\",edesc:\"\",etag:\"\"}),_useState4=_slicedToArray(_useState3,2),note=_useState4[0],setnote=_useState4[1];var updateNote=function updateNote(currentnote){ref.current.click();console.log(currentnote);setnote({eid:currentnote._id,etitle:currentnote.title,edesc:currentnote.description,etag:currentnote.tag});};var changeHandler=function changeHandler(e){setnote(_objectSpread(_objectSpread({},note),{},_defineProperty({},e.target.name,e.target.value)));};var updateindb=function updateindb(){editNote(note.eid,note.etitle,note.edesc,note.etag);refclose.current.click();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary d-none\",ref:ref,\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:\"Edit Note\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"etitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"etitle\",id:\"etitle\",onChange:changeHandler,placeholder:\"Today's note\",value:note.etitle,minLength:5,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"tag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"etag\",id:\"etag\",onChange:changeHandler,value:note.etag})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"desc\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"edesc\",onChange:changeHandler,id:\"edesc\",rows:\"3\",value:note.edesc,minLength:5,required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:refclose,className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:note.etitle.length<5||note.edesc.length<5,className:\"btn btn-primary\",onClick:updateindb,children:\"Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:notes.length===0&&message}),notes.map(function(note){return/*#__PURE__*/_jsx(NoteItem,{note:note,updateNote:updateNote},i++);})]})]});}export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","noteContext","NoteItem","Notes","i","context","notes","fetchallNotes","editNote","ref","refclose","message","setmessage","localStorage","getItem","eid","etitle","edesc","etag","note","setnote","updateNote","currentnote","current","click","console","log","_id","title","description","tag","changeHandler","e","target","name","value","updateindb","length","map"],"sources":["C:/Users/Amey Sawalkar/Desktop/React/inotebook/src/components/Notes.js"],"sourcesContent":["import React from 'react'\r\nimport { useContext, useEffect, useRef, useState } from 'react';\r\nimport noteContext from '../contexts/notes/noteContext';\r\nimport NoteItem from './NoteItem';\r\n\r\nfunction Notes() {\r\n    let i = 0;\r\n    const context = useContext(noteContext);\r\n    const { notes, fetchallNotes, editNote } = context;\r\n    const ref = useRef(null)\r\n    const refclose = useRef(null)\r\n    const [message, setmessage] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        if(localStorage.getItem('authtoken'))\r\n        {\r\n            setmessage(\"No notes to display\");\r\n            fetchallNotes();\r\n        }\r\n        else{\r\n            setmessage(\"Login to see your notes\");            \r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const [note, setnote] = useState({ eid: \"\", etitle: \"\", edesc: \"\", etag: \"\" })\r\n\r\n\r\n    const updateNote = (currentnote) => {\r\n        ref.current.click();\r\n        console.log(currentnote);\r\n        setnote({ eid: currentnote._id, etitle: currentnote.title, edesc: currentnote.description, etag: currentnote.tag })\r\n    }\r\n\r\n\r\n    const changeHandler = (e) => {\r\n        setnote({ ...note, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    const updateindb = () => {\r\n        editNote(note.eid, note.etitle, note.edesc, note.etag);\r\n        refclose.current.click()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <button type=\"button\" className=\"btn btn-primary d-none\" ref={ref} data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch demo modal\r\n            </button>\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\">Edit Note</h1>\r\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor=\"etitle\" className=\"form-label\">Title</label>\r\n                                <input type=\"text\" className=\"form-control\" name='etitle' id=\"etitle\" onChange={changeHandler} placeholder=\"Today's note\" value={note.etitle}  minLength={5} required/>\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor=\"tag\" className=\"form-label\">Tag</label>\r\n                                <input type=\"text\" className=\"form-control\" name='etag' id=\"etag\" onChange={changeHandler} value={note.etag} />\r\n                            </div>\r\n                            <div className=\"mb-3\">\r\n                                <label htmlFor=\"desc\" className=\"form-label\">Description</label>\r\n                                <textarea className=\"form-control\" name='edesc' onChange={changeHandler} id=\"edesc\" rows=\"3\" value={note.edesc} minLength={5} required></textarea>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button type=\"button\" ref={refclose} className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button type=\"button\" disabled={note.etitle.length<5 || note.edesc.length<5} className=\"btn btn-primary\" onClick={updateindb}>Update Note</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className='row my-3'>\r\n                <h2>Your Notes</h2>\r\n                <div className=\"container\">\r\n                    {notes.length === 0 && message}\r\n                </div>\r\n                {notes.map((note) => {\r\n                    return <NoteItem key={i++} note={note} updateNote={updateNote} />\r\n                })}\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notes"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}